# xx-app-gateway网关服务

## 版本说明

### 1.0.0-release

- 需求背景：由于云平台业务服务对外提供的微服务众多，各个应用服务以及NLU服务调用业务服务没有统一的调用入口，（为什么会出现这种情况呢，起码应该由各nginx吧，之前公司部门的划分，没有统一的云平台，各自负责一部分服务，云平台的成立就是为了解决基础服务乱象的问题，随着业务的增长，服务的增多，由应用服务方或者运维配置服务的调用复杂容易出错）配置的复杂，为了屏蔽业务服务内部微服务的细节，需求开发网关服务。
- 1.0.0版本要达到的要求：
  - 不影响其他服务对业务服务的调用，线上服务平稳过渡运行。
  - 接收所有调用者请求，通过路由机制转发到服务实例。
- 功能点：
  - 因为平台还没有引入微服务统一的配置中心，配置首先通过配置文件的方式统一配置
  - 接受所有业务服务的调用者的请求，转发到相应的服务实例
  - 实现负载均衡（LB）
  - 通过心跳检测的方式判断服务的可用性，如果不可用从服务列表中踢出，在通过检测机制检测可用加入服务列表。检测机制是什么
- 开发前的工作：目前线上的并发量
- 测试：单台服务器能承载的并发量
- 部署方案：通过nginx反向代理实现高可用 和负载均衡，nginx的高可用怎么做。
- 开发中需要注意点：
  - 为了实现服务的平滑安全过渡，不对请求的返回值做任何的分装
  - 增加一个简单的服务不可用的短信报警提醒